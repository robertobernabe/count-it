---
# We'll use defaults from the Microsoft style (with clang-format 9), but with 4 columns indentation.
---
Language: Cpp
BasedOnStyle: Microsoft
Standard: Cpp11
UseTab: Never
IndentWidth: 4
ColumnLimit: 120
SortIncludes: false

NamespaceIndentation: All
IndentCaseLabels: false
IndentPPDirectives: None
IndentWrappedFunctionNames: false

AllowShortFunctionsOnASingleLine: None
AllowShortBlocksOnASingleLine: false
AllowShortIfStatementsOnASingleLine: Never
AllowShortLambdasOnASingleLine: All
AllowShortLoopsOnASingleLine: false

AlwaysBreakAfterReturnType: None
AlwaysBreakBeforeMultilineStrings: false

BinPackArguments: false
BinPackParameters: false
FixNamespaceComments: false
CommentPragmas: '^\*\<' # Don't mess around with doxygen

ForEachMacros: [TEST, TEST_F, TEST_CASE, SECTION]

BreakBeforeTernaryOperators: true
BreakConstructorInitializers: BeforeColon
BreakInheritanceList: BeforeColon
BreakStringLiterals: true

ConstructorInitializerAllOnOneLineOrOnePerLine: true
ContinuationIndentWidth: 4
Cpp11BracedListStyle: false
DerivePointerAlignment: false
PointerAlignment: Left
KeepEmptyLinesAtTheStartOfBlocks: false
AlignAfterOpenBracket: Align
AccessModifierOffset: -4

SpaceAfterCStyleCast: false
SpaceAfterLogicalNot: false
SpaceAfterTemplateKeyword: false
SpaceBeforeAssignmentOperators: true
SpaceBeforeCpp11BracedList: false
SpaceBeforeInheritanceColon: true
SpaceBeforeParens: ControlStatements
SpaceInEmptyParentheses: false
SpacesBeforeTrailingComments: 4
SpacesInAngles: false
SpacesInCStyleCastParentheses: false
SpacesInContainerLiterals: true
SpacesInParentheses: false
SpacesInSquareBrackets: false

BreakBeforeBraces: Custom
BraceWrapping:
  AfterNamespace: true
  AfterEnum: true
  AfterStruct: true
  AfterClass: true
  AfterUnion: true
  AfterFunction: true
  AfterExternBlock: true
  AfterCaseLabel: true
  AfterControlStatement: true
  AfterObjCDeclaration: true
  BeforeCatch: true
  BeforeElse: true
  IndentBraces: false
  SplitEmptyFunction: true
  SplitEmptyRecord: true
  SplitEmptyNamespace: true